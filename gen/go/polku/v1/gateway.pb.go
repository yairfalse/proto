// gateway.proto - POLKU Gateway service definition
//
// POLKU is an open-source pluggable gRPC event gateway.
// It's format-agnostic - users provide plugins for their specific formats.
//
// Supports two modes:
//   1. Transform mode: Clients send raw bytes, InputPlugins transform them
//   2. Pass-through mode: Clients send pre-formatted events, no transformation
//
// Users can extend POLKU by implementing:
//   - InputPlugin: Transform source-specific bytes â†’ Event
//   - OutputPlugin: Send Events to any destination

// Code generated by protoc-gen-go. DO NOT EDIT.
// versions:
// 	protoc-gen-go v1.36.11
// 	protoc        (unknown)
// source: polku/v1/gateway.proto

package polkuv1

import (
	protoreflect "google.golang.org/protobuf/reflect/protoreflect"
	protoimpl "google.golang.org/protobuf/runtime/protoimpl"
	reflect "reflect"
	sync "sync"
	unsafe "unsafe"
)

const (
	// Verify that this generated code is sufficiently up-to-date.
	_ = protoimpl.EnforceVersion(20 - protoimpl.MinVersion)
	// Verify that runtime/protoimpl is sufficiently up-to-date.
	_ = protoimpl.EnforceVersion(protoimpl.MaxVersion - 20)
)

// Batch of events for streaming ingestion
type IngestBatch struct {
	state   protoimpl.MessageState `protogen:"open.v1"`
	Source  string                 `protobuf:"bytes,1,opt,name=source,proto3" json:"source,omitempty"`   // Source identifier (e.g., "my-agent", "otel-collector")
	Cluster string                 `protobuf:"bytes,2,opt,name=cluster,proto3" json:"cluster,omitempty"` // Cluster/environment identifier
	// Either raw bytes (needs plugin transformation) or pre-formatted events
	//
	// Types that are valid to be assigned to Payload:
	//
	//	*IngestBatch_Raw
	//	*IngestBatch_Events
	Payload       isIngestBatch_Payload `protobuf_oneof:"payload"`
	unknownFields protoimpl.UnknownFields
	sizeCache     protoimpl.SizeCache
}

func (x *IngestBatch) Reset() {
	*x = IngestBatch{}
	mi := &file_polku_v1_gateway_proto_msgTypes[0]
	ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
	ms.StoreMessageInfo(mi)
}

func (x *IngestBatch) String() string {
	return protoimpl.X.MessageStringOf(x)
}

func (*IngestBatch) ProtoMessage() {}

func (x *IngestBatch) ProtoReflect() protoreflect.Message {
	mi := &file_polku_v1_gateway_proto_msgTypes[0]
	if x != nil {
		ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
		if ms.LoadMessageInfo() == nil {
			ms.StoreMessageInfo(mi)
		}
		return ms
	}
	return mi.MessageOf(x)
}

// Deprecated: Use IngestBatch.ProtoReflect.Descriptor instead.
func (*IngestBatch) Descriptor() ([]byte, []int) {
	return file_polku_v1_gateway_proto_rawDescGZIP(), []int{0}
}

func (x *IngestBatch) GetSource() string {
	if x != nil {
		return x.Source
	}
	return ""
}

func (x *IngestBatch) GetCluster() string {
	if x != nil {
		return x.Cluster
	}
	return ""
}

func (x *IngestBatch) GetPayload() isIngestBatch_Payload {
	if x != nil {
		return x.Payload
	}
	return nil
}

func (x *IngestBatch) GetRaw() *RawPayload {
	if x != nil {
		if x, ok := x.Payload.(*IngestBatch_Raw); ok {
			return x.Raw
		}
	}
	return nil
}

func (x *IngestBatch) GetEvents() *EventPayload {
	if x != nil {
		if x, ok := x.Payload.(*IngestBatch_Events); ok {
			return x.Events
		}
	}
	return nil
}

type isIngestBatch_Payload interface {
	isIngestBatch_Payload()
}

type IngestBatch_Raw struct {
	Raw *RawPayload `protobuf:"bytes,3,opt,name=raw,proto3,oneof"`
}

type IngestBatch_Events struct {
	Events *EventPayload `protobuf:"bytes,4,opt,name=events,proto3,oneof"`
}

func (*IngestBatch_Raw) isIngestBatch_Payload() {}

func (*IngestBatch_Events) isIngestBatch_Payload() {}

// Raw bytes payload - requires InputPlugin transformation
type RawPayload struct {
	state         protoimpl.MessageState `protogen:"open.v1"`
	Data          []byte                 `protobuf:"bytes,1,opt,name=data,proto3" json:"data,omitempty"`     // Serialized source-specific format
	Format        string                 `protobuf:"bytes,2,opt,name=format,proto3" json:"format,omitempty"` // Format hint: "protobuf", "json", "msgpack", etc.
	unknownFields protoimpl.UnknownFields
	sizeCache     protoimpl.SizeCache
}

func (x *RawPayload) Reset() {
	*x = RawPayload{}
	mi := &file_polku_v1_gateway_proto_msgTypes[1]
	ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
	ms.StoreMessageInfo(mi)
}

func (x *RawPayload) String() string {
	return protoimpl.X.MessageStringOf(x)
}

func (*RawPayload) ProtoMessage() {}

func (x *RawPayload) ProtoReflect() protoreflect.Message {
	mi := &file_polku_v1_gateway_proto_msgTypes[1]
	if x != nil {
		ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
		if ms.LoadMessageInfo() == nil {
			ms.StoreMessageInfo(mi)
		}
		return ms
	}
	return mi.MessageOf(x)
}

// Deprecated: Use RawPayload.ProtoReflect.Descriptor instead.
func (*RawPayload) Descriptor() ([]byte, []int) {
	return file_polku_v1_gateway_proto_rawDescGZIP(), []int{1}
}

func (x *RawPayload) GetData() []byte {
	if x != nil {
		return x.Data
	}
	return nil
}

func (x *RawPayload) GetFormat() string {
	if x != nil {
		return x.Format
	}
	return ""
}

// Pre-formatted events - pass-through mode (no transformation)
type EventPayload struct {
	state         protoimpl.MessageState `protogen:"open.v1"`
	Events        []*Event               `protobuf:"bytes,1,rep,name=events,proto3" json:"events,omitempty"`
	unknownFields protoimpl.UnknownFields
	sizeCache     protoimpl.SizeCache
}

func (x *EventPayload) Reset() {
	*x = EventPayload{}
	mi := &file_polku_v1_gateway_proto_msgTypes[2]
	ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
	ms.StoreMessageInfo(mi)
}

func (x *EventPayload) String() string {
	return protoimpl.X.MessageStringOf(x)
}

func (*EventPayload) ProtoMessage() {}

func (x *EventPayload) ProtoReflect() protoreflect.Message {
	mi := &file_polku_v1_gateway_proto_msgTypes[2]
	if x != nil {
		ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
		if ms.LoadMessageInfo() == nil {
			ms.StoreMessageInfo(mi)
		}
		return ms
	}
	return mi.MessageOf(x)
}

// Deprecated: Use EventPayload.ProtoReflect.Descriptor instead.
func (*EventPayload) Descriptor() ([]byte, []int) {
	return file_polku_v1_gateway_proto_rawDescGZIP(), []int{2}
}

func (x *EventPayload) GetEvents() []*Event {
	if x != nil {
		return x.Events
	}
	return nil
}

// Single event for unary ingestion
type IngestEvent struct {
	state   protoimpl.MessageState `protogen:"open.v1"`
	Source  string                 `protobuf:"bytes,1,opt,name=source,proto3" json:"source,omitempty"`
	Cluster string                 `protobuf:"bytes,2,opt,name=cluster,proto3" json:"cluster,omitempty"`
	// Types that are valid to be assigned to Payload:
	//
	//	*IngestEvent_Raw
	//	*IngestEvent_Event
	Payload       isIngestEvent_Payload `protobuf_oneof:"payload"`
	Format        string                `protobuf:"bytes,5,opt,name=format,proto3" json:"format,omitempty"` // Format hint for raw payload
	unknownFields protoimpl.UnknownFields
	sizeCache     protoimpl.SizeCache
}

func (x *IngestEvent) Reset() {
	*x = IngestEvent{}
	mi := &file_polku_v1_gateway_proto_msgTypes[3]
	ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
	ms.StoreMessageInfo(mi)
}

func (x *IngestEvent) String() string {
	return protoimpl.X.MessageStringOf(x)
}

func (*IngestEvent) ProtoMessage() {}

func (x *IngestEvent) ProtoReflect() protoreflect.Message {
	mi := &file_polku_v1_gateway_proto_msgTypes[3]
	if x != nil {
		ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
		if ms.LoadMessageInfo() == nil {
			ms.StoreMessageInfo(mi)
		}
		return ms
	}
	return mi.MessageOf(x)
}

// Deprecated: Use IngestEvent.ProtoReflect.Descriptor instead.
func (*IngestEvent) Descriptor() ([]byte, []int) {
	return file_polku_v1_gateway_proto_rawDescGZIP(), []int{3}
}

func (x *IngestEvent) GetSource() string {
	if x != nil {
		return x.Source
	}
	return ""
}

func (x *IngestEvent) GetCluster() string {
	if x != nil {
		return x.Cluster
	}
	return ""
}

func (x *IngestEvent) GetPayload() isIngestEvent_Payload {
	if x != nil {
		return x.Payload
	}
	return nil
}

func (x *IngestEvent) GetRaw() []byte {
	if x != nil {
		if x, ok := x.Payload.(*IngestEvent_Raw); ok {
			return x.Raw
		}
	}
	return nil
}

func (x *IngestEvent) GetEvent() *Event {
	if x != nil {
		if x, ok := x.Payload.(*IngestEvent_Event); ok {
			return x.Event
		}
	}
	return nil
}

func (x *IngestEvent) GetFormat() string {
	if x != nil {
		return x.Format
	}
	return ""
}

type isIngestEvent_Payload interface {
	isIngestEvent_Payload()
}

type IngestEvent_Raw struct {
	Raw []byte `protobuf:"bytes,3,opt,name=raw,proto3,oneof"` // Raw bytes (needs transformation)
}

type IngestEvent_Event struct {
	Event *Event `protobuf:"bytes,4,opt,name=event,proto3,oneof"` // Pre-formatted event (pass-through)
}

func (*IngestEvent_Raw) isIngestEvent_Payload() {}

func (*IngestEvent_Event) isIngestEvent_Payload() {}

// POLKU's internal event envelope
// This is what InputPlugins produce and OutputPlugins consume.
// The payload is opaque bytes - POLKU doesn't interpret it.
type Event struct {
	state           protoimpl.MessageState `protogen:"open.v1"`
	Id              string                 `protobuf:"bytes,1,opt,name=id,proto3" json:"id,omitempty"`                                                                                       // Unique event ID (ULID recommended)
	TimestampUnixNs int64                  `protobuf:"varint,2,opt,name=timestamp_unix_ns,json=timestampUnixNs,proto3" json:"timestamp_unix_ns,omitempty"`                                   // Unix timestamp in nanoseconds
	Source          string                 `protobuf:"bytes,3,opt,name=source,proto3" json:"source,omitempty"`                                                                               // Source that produced this event
	EventType       string                 `protobuf:"bytes,4,opt,name=event_type,json=eventType,proto3" json:"event_type,omitempty"`                                                        // User-defined event type (e.g., "network", "log")
	Metadata        map[string]string      `protobuf:"bytes,5,rep,name=metadata,proto3" json:"metadata,omitempty" protobuf_key:"bytes,1,opt,name=key" protobuf_val:"bytes,2,opt,name=value"` // Arbitrary key-value metadata
	// The actual event payload - opaque to POLKU
	Payload []byte `protobuf:"bytes,6,opt,name=payload,proto3" json:"payload,omitempty"`
	// Optional routing hints for OutputPlugins
	RouteTo       []string `protobuf:"bytes,7,rep,name=route_to,json=routeTo,proto3" json:"route_to,omitempty"` // Which outputs to send to (empty = all)
	unknownFields protoimpl.UnknownFields
	sizeCache     protoimpl.SizeCache
}

func (x *Event) Reset() {
	*x = Event{}
	mi := &file_polku_v1_gateway_proto_msgTypes[4]
	ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
	ms.StoreMessageInfo(mi)
}

func (x *Event) String() string {
	return protoimpl.X.MessageStringOf(x)
}

func (*Event) ProtoMessage() {}

func (x *Event) ProtoReflect() protoreflect.Message {
	mi := &file_polku_v1_gateway_proto_msgTypes[4]
	if x != nil {
		ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
		if ms.LoadMessageInfo() == nil {
			ms.StoreMessageInfo(mi)
		}
		return ms
	}
	return mi.MessageOf(x)
}

// Deprecated: Use Event.ProtoReflect.Descriptor instead.
func (*Event) Descriptor() ([]byte, []int) {
	return file_polku_v1_gateway_proto_rawDescGZIP(), []int{4}
}

func (x *Event) GetId() string {
	if x != nil {
		return x.Id
	}
	return ""
}

func (x *Event) GetTimestampUnixNs() int64 {
	if x != nil {
		return x.TimestampUnixNs
	}
	return 0
}

func (x *Event) GetSource() string {
	if x != nil {
		return x.Source
	}
	return ""
}

func (x *Event) GetEventType() string {
	if x != nil {
		return x.EventType
	}
	return ""
}

func (x *Event) GetMetadata() map[string]string {
	if x != nil {
		return x.Metadata
	}
	return nil
}

func (x *Event) GetPayload() []byte {
	if x != nil {
		return x.Payload
	}
	return nil
}

func (x *Event) GetRouteTo() []string {
	if x != nil {
		return x.RouteTo
	}
	return nil
}

// Acknowledgment response
type Ack struct {
	state          protoimpl.MessageState `protogen:"open.v1"`
	EventIds       []string               `protobuf:"bytes,1,rep,name=event_ids,json=eventIds,proto3" json:"event_ids,omitempty"`                    // Successfully processed event IDs
	Errors         []*AckError            `protobuf:"bytes,2,rep,name=errors,proto3" json:"errors,omitempty"`                                        // Errors for failed events
	BufferSize     int64                  `protobuf:"varint,3,opt,name=buffer_size,json=bufferSize,proto3" json:"buffer_size,omitempty"`             // Current buffer size (for backpressure)
	BufferCapacity int64                  `protobuf:"varint,4,opt,name=buffer_capacity,json=bufferCapacity,proto3" json:"buffer_capacity,omitempty"` // Max buffer capacity
	unknownFields  protoimpl.UnknownFields
	sizeCache      protoimpl.SizeCache
}

func (x *Ack) Reset() {
	*x = Ack{}
	mi := &file_polku_v1_gateway_proto_msgTypes[5]
	ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
	ms.StoreMessageInfo(mi)
}

func (x *Ack) String() string {
	return protoimpl.X.MessageStringOf(x)
}

func (*Ack) ProtoMessage() {}

func (x *Ack) ProtoReflect() protoreflect.Message {
	mi := &file_polku_v1_gateway_proto_msgTypes[5]
	if x != nil {
		ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
		if ms.LoadMessageInfo() == nil {
			ms.StoreMessageInfo(mi)
		}
		return ms
	}
	return mi.MessageOf(x)
}

// Deprecated: Use Ack.ProtoReflect.Descriptor instead.
func (*Ack) Descriptor() ([]byte, []int) {
	return file_polku_v1_gateway_proto_rawDescGZIP(), []int{5}
}

func (x *Ack) GetEventIds() []string {
	if x != nil {
		return x.EventIds
	}
	return nil
}

func (x *Ack) GetErrors() []*AckError {
	if x != nil {
		return x.Errors
	}
	return nil
}

func (x *Ack) GetBufferSize() int64 {
	if x != nil {
		return x.BufferSize
	}
	return 0
}

func (x *Ack) GetBufferCapacity() int64 {
	if x != nil {
		return x.BufferCapacity
	}
	return 0
}

type AckError struct {
	state         protoimpl.MessageState `protogen:"open.v1"`
	EventId       string                 `protobuf:"bytes,1,opt,name=event_id,json=eventId,proto3" json:"event_id,omitempty"`
	Code          string                 `protobuf:"bytes,2,opt,name=code,proto3" json:"code,omitempty"`
	Message       string                 `protobuf:"bytes,3,opt,name=message,proto3" json:"message,omitempty"`
	unknownFields protoimpl.UnknownFields
	sizeCache     protoimpl.SizeCache
}

func (x *AckError) Reset() {
	*x = AckError{}
	mi := &file_polku_v1_gateway_proto_msgTypes[6]
	ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
	ms.StoreMessageInfo(mi)
}

func (x *AckError) String() string {
	return protoimpl.X.MessageStringOf(x)
}

func (*AckError) ProtoMessage() {}

func (x *AckError) ProtoReflect() protoreflect.Message {
	mi := &file_polku_v1_gateway_proto_msgTypes[6]
	if x != nil {
		ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
		if ms.LoadMessageInfo() == nil {
			ms.StoreMessageInfo(mi)
		}
		return ms
	}
	return mi.MessageOf(x)
}

// Deprecated: Use AckError.ProtoReflect.Descriptor instead.
func (*AckError) Descriptor() ([]byte, []int) {
	return file_polku_v1_gateway_proto_rawDescGZIP(), []int{6}
}

func (x *AckError) GetEventId() string {
	if x != nil {
		return x.EventId
	}
	return ""
}

func (x *AckError) GetCode() string {
	if x != nil {
		return x.Code
	}
	return ""
}

func (x *AckError) GetMessage() string {
	if x != nil {
		return x.Message
	}
	return ""
}

// Health check
type HealthRequest struct {
	state         protoimpl.MessageState `protogen:"open.v1"`
	unknownFields protoimpl.UnknownFields
	sizeCache     protoimpl.SizeCache
}

func (x *HealthRequest) Reset() {
	*x = HealthRequest{}
	mi := &file_polku_v1_gateway_proto_msgTypes[7]
	ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
	ms.StoreMessageInfo(mi)
}

func (x *HealthRequest) String() string {
	return protoimpl.X.MessageStringOf(x)
}

func (*HealthRequest) ProtoMessage() {}

func (x *HealthRequest) ProtoReflect() protoreflect.Message {
	mi := &file_polku_v1_gateway_proto_msgTypes[7]
	if x != nil {
		ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
		if ms.LoadMessageInfo() == nil {
			ms.StoreMessageInfo(mi)
		}
		return ms
	}
	return mi.MessageOf(x)
}

// Deprecated: Use HealthRequest.ProtoReflect.Descriptor instead.
func (*HealthRequest) Descriptor() ([]byte, []int) {
	return file_polku_v1_gateway_proto_rawDescGZIP(), []int{7}
}

type HealthResponse struct {
	state           protoimpl.MessageState      `protogen:"open.v1"`
	Healthy         bool                        `protobuf:"varint,1,opt,name=healthy,proto3" json:"healthy,omitempty"`
	Components      map[string]*ComponentHealth `protobuf:"bytes,2,rep,name=components,proto3" json:"components,omitempty" protobuf_key:"bytes,1,opt,name=key" protobuf_val:"bytes,2,opt,name=value"`
	UptimeSeconds   int64                       `protobuf:"varint,3,opt,name=uptime_seconds,json=uptimeSeconds,proto3" json:"uptime_seconds,omitempty"`
	EventsProcessed uint64                      `protobuf:"varint,4,opt,name=events_processed,json=eventsProcessed,proto3" json:"events_processed,omitempty"`
	unknownFields   protoimpl.UnknownFields
	sizeCache       protoimpl.SizeCache
}

func (x *HealthResponse) Reset() {
	*x = HealthResponse{}
	mi := &file_polku_v1_gateway_proto_msgTypes[8]
	ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
	ms.StoreMessageInfo(mi)
}

func (x *HealthResponse) String() string {
	return protoimpl.X.MessageStringOf(x)
}

func (*HealthResponse) ProtoMessage() {}

func (x *HealthResponse) ProtoReflect() protoreflect.Message {
	mi := &file_polku_v1_gateway_proto_msgTypes[8]
	if x != nil {
		ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
		if ms.LoadMessageInfo() == nil {
			ms.StoreMessageInfo(mi)
		}
		return ms
	}
	return mi.MessageOf(x)
}

// Deprecated: Use HealthResponse.ProtoReflect.Descriptor instead.
func (*HealthResponse) Descriptor() ([]byte, []int) {
	return file_polku_v1_gateway_proto_rawDescGZIP(), []int{8}
}

func (x *HealthResponse) GetHealthy() bool {
	if x != nil {
		return x.Healthy
	}
	return false
}

func (x *HealthResponse) GetComponents() map[string]*ComponentHealth {
	if x != nil {
		return x.Components
	}
	return nil
}

func (x *HealthResponse) GetUptimeSeconds() int64 {
	if x != nil {
		return x.UptimeSeconds
	}
	return 0
}

func (x *HealthResponse) GetEventsProcessed() uint64 {
	if x != nil {
		return x.EventsProcessed
	}
	return 0
}

type ComponentHealth struct {
	state         protoimpl.MessageState `protogen:"open.v1"`
	Healthy       bool                   `protobuf:"varint,1,opt,name=healthy,proto3" json:"healthy,omitempty"`
	Message       string                 `protobuf:"bytes,2,opt,name=message,proto3" json:"message,omitempty"`
	unknownFields protoimpl.UnknownFields
	sizeCache     protoimpl.SizeCache
}

func (x *ComponentHealth) Reset() {
	*x = ComponentHealth{}
	mi := &file_polku_v1_gateway_proto_msgTypes[9]
	ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
	ms.StoreMessageInfo(mi)
}

func (x *ComponentHealth) String() string {
	return protoimpl.X.MessageStringOf(x)
}

func (*ComponentHealth) ProtoMessage() {}

func (x *ComponentHealth) ProtoReflect() protoreflect.Message {
	mi := &file_polku_v1_gateway_proto_msgTypes[9]
	if x != nil {
		ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
		if ms.LoadMessageInfo() == nil {
			ms.StoreMessageInfo(mi)
		}
		return ms
	}
	return mi.MessageOf(x)
}

// Deprecated: Use ComponentHealth.ProtoReflect.Descriptor instead.
func (*ComponentHealth) Descriptor() ([]byte, []int) {
	return file_polku_v1_gateway_proto_rawDescGZIP(), []int{9}
}

func (x *ComponentHealth) GetHealthy() bool {
	if x != nil {
		return x.Healthy
	}
	return false
}

func (x *ComponentHealth) GetMessage() string {
	if x != nil {
		return x.Message
	}
	return ""
}

// K8s event from PORTTI (matches portti/pkg/proto format)
type K8SEvent struct {
	state             protoimpl.MessageState `protogen:"open.v1"`
	Id                string                 `protobuf:"bytes,1,opt,name=id,proto3" json:"id,omitempty"`                                                           // Event ID (ULID)
	TimestampUnixNano int64                  `protobuf:"varint,2,opt,name=timestamp_unix_nano,json=timestampUnixNano,proto3" json:"timestamp_unix_nano,omitempty"` // Unix timestamp in nanoseconds
	Resource          string                 `protobuf:"bytes,3,opt,name=resource,proto3" json:"resource,omitempty"`                                               // Resource type: deployment, pod, service, etc.
	Action            string                 `protobuf:"bytes,4,opt,name=action,proto3" json:"action,omitempty"`                                                   // Action: create, update, delete
	Namespace         string                 `protobuf:"bytes,5,opt,name=namespace,proto3" json:"namespace,omitempty"`                                             // K8s namespace
	Name              string                 `protobuf:"bytes,6,opt,name=name,proto3" json:"name,omitempty"`                                                       // Resource name
	Object            []byte                 `protobuf:"bytes,7,opt,name=object,proto3" json:"object,omitempty"`                                                   // JSON-encoded K8s object
	OldObject         []byte                 `protobuf:"bytes,8,opt,name=old_object,json=oldObject,proto3" json:"old_object,omitempty"`                            // For updates (previous state)
	ClusterId         string                 `protobuf:"bytes,9,opt,name=cluster_id,json=clusterId,proto3" json:"cluster_id,omitempty"`                            // Cluster identifier
	unknownFields     protoimpl.UnknownFields
	sizeCache         protoimpl.SizeCache
}

func (x *K8SEvent) Reset() {
	*x = K8SEvent{}
	mi := &file_polku_v1_gateway_proto_msgTypes[10]
	ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
	ms.StoreMessageInfo(mi)
}

func (x *K8SEvent) String() string {
	return protoimpl.X.MessageStringOf(x)
}

func (*K8SEvent) ProtoMessage() {}

func (x *K8SEvent) ProtoReflect() protoreflect.Message {
	mi := &file_polku_v1_gateway_proto_msgTypes[10]
	if x != nil {
		ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
		if ms.LoadMessageInfo() == nil {
			ms.StoreMessageInfo(mi)
		}
		return ms
	}
	return mi.MessageOf(x)
}

// Deprecated: Use K8SEvent.ProtoReflect.Descriptor instead.
func (*K8SEvent) Descriptor() ([]byte, []int) {
	return file_polku_v1_gateway_proto_rawDescGZIP(), []int{10}
}

func (x *K8SEvent) GetId() string {
	if x != nil {
		return x.Id
	}
	return ""
}

func (x *K8SEvent) GetTimestampUnixNano() int64 {
	if x != nil {
		return x.TimestampUnixNano
	}
	return 0
}

func (x *K8SEvent) GetResource() string {
	if x != nil {
		return x.Resource
	}
	return ""
}

func (x *K8SEvent) GetAction() string {
	if x != nil {
		return x.Action
	}
	return ""
}

func (x *K8SEvent) GetNamespace() string {
	if x != nil {
		return x.Namespace
	}
	return ""
}

func (x *K8SEvent) GetName() string {
	if x != nil {
		return x.Name
	}
	return ""
}

func (x *K8SEvent) GetObject() []byte {
	if x != nil {
		return x.Object
	}
	return nil
}

func (x *K8SEvent) GetOldObject() []byte {
	if x != nil {
		return x.OldObject
	}
	return nil
}

func (x *K8SEvent) GetClusterId() string {
	if x != nil {
		return x.ClusterId
	}
	return ""
}

// Batch of K8s events for streaming
type K8SEventBatch struct {
	state         protoimpl.MessageState `protogen:"open.v1"`
	Events        []*K8SEvent            `protobuf:"bytes,1,rep,name=events,proto3" json:"events,omitempty"`
	ClusterId     string                 `protobuf:"bytes,2,opt,name=cluster_id,json=clusterId,proto3" json:"cluster_id,omitempty"`
	unknownFields protoimpl.UnknownFields
	sizeCache     protoimpl.SizeCache
}

func (x *K8SEventBatch) Reset() {
	*x = K8SEventBatch{}
	mi := &file_polku_v1_gateway_proto_msgTypes[11]
	ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
	ms.StoreMessageInfo(mi)
}

func (x *K8SEventBatch) String() string {
	return protoimpl.X.MessageStringOf(x)
}

func (*K8SEventBatch) ProtoMessage() {}

func (x *K8SEventBatch) ProtoReflect() protoreflect.Message {
	mi := &file_polku_v1_gateway_proto_msgTypes[11]
	if x != nil {
		ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
		if ms.LoadMessageInfo() == nil {
			ms.StoreMessageInfo(mi)
		}
		return ms
	}
	return mi.MessageOf(x)
}

// Deprecated: Use K8SEventBatch.ProtoReflect.Descriptor instead.
func (*K8SEventBatch) Descriptor() ([]byte, []int) {
	return file_polku_v1_gateway_proto_rawDescGZIP(), []int{11}
}

func (x *K8SEventBatch) GetEvents() []*K8SEvent {
	if x != nil {
		return x.Events
	}
	return nil
}

func (x *K8SEventBatch) GetClusterId() string {
	if x != nil {
		return x.ClusterId
	}
	return ""
}

// Simple response for unary RPCs
type SendResponse struct {
	state         protoimpl.MessageState `protogen:"open.v1"`
	Success       bool                   `protobuf:"varint,1,opt,name=success,proto3" json:"success,omitempty"`
	Error         string                 `protobuf:"bytes,2,opt,name=error,proto3" json:"error,omitempty"` // Error message if success=false
	unknownFields protoimpl.UnknownFields
	sizeCache     protoimpl.SizeCache
}

func (x *SendResponse) Reset() {
	*x = SendResponse{}
	mi := &file_polku_v1_gateway_proto_msgTypes[12]
	ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
	ms.StoreMessageInfo(mi)
}

func (x *SendResponse) String() string {
	return protoimpl.X.MessageStringOf(x)
}

func (*SendResponse) ProtoMessage() {}

func (x *SendResponse) ProtoReflect() protoreflect.Message {
	mi := &file_polku_v1_gateway_proto_msgTypes[12]
	if x != nil {
		ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
		if ms.LoadMessageInfo() == nil {
			ms.StoreMessageInfo(mi)
		}
		return ms
	}
	return mi.MessageOf(x)
}

// Deprecated: Use SendResponse.ProtoReflect.Descriptor instead.
func (*SendResponse) Descriptor() ([]byte, []int) {
	return file_polku_v1_gateway_proto_rawDescGZIP(), []int{12}
}

func (x *SendResponse) GetSuccess() bool {
	if x != nil {
		return x.Success
	}
	return false
}

func (x *SendResponse) GetError() string {
	if x != nil {
		return x.Error
	}
	return ""
}

var File_polku_v1_gateway_proto protoreflect.FileDescriptor

const file_polku_v1_gateway_proto_rawDesc = "" +
	"\n" +
	"\x16polku/v1/gateway.proto\x12\bpolku.v1\"\xa6\x01\n" +
	"\vIngestBatch\x12\x16\n" +
	"\x06source\x18\x01 \x01(\tR\x06source\x12\x18\n" +
	"\acluster\x18\x02 \x01(\tR\acluster\x12(\n" +
	"\x03raw\x18\x03 \x01(\v2\x14.polku.v1.RawPayloadH\x00R\x03raw\x120\n" +
	"\x06events\x18\x04 \x01(\v2\x16.polku.v1.EventPayloadH\x00R\x06eventsB\t\n" +
	"\apayload\"8\n" +
	"\n" +
	"RawPayload\x12\x12\n" +
	"\x04data\x18\x01 \x01(\fR\x04data\x12\x16\n" +
	"\x06format\x18\x02 \x01(\tR\x06format\"7\n" +
	"\fEventPayload\x12'\n" +
	"\x06events\x18\x01 \x03(\v2\x0f.polku.v1.EventR\x06events\"\x9f\x01\n" +
	"\vIngestEvent\x12\x16\n" +
	"\x06source\x18\x01 \x01(\tR\x06source\x12\x18\n" +
	"\acluster\x18\x02 \x01(\tR\acluster\x12\x12\n" +
	"\x03raw\x18\x03 \x01(\fH\x00R\x03raw\x12'\n" +
	"\x05event\x18\x04 \x01(\v2\x0f.polku.v1.EventH\x00R\x05event\x12\x16\n" +
	"\x06format\x18\x05 \x01(\tR\x06formatB\t\n" +
	"\apayload\"\xa7\x02\n" +
	"\x05Event\x12\x0e\n" +
	"\x02id\x18\x01 \x01(\tR\x02id\x12*\n" +
	"\x11timestamp_unix_ns\x18\x02 \x01(\x03R\x0ftimestampUnixNs\x12\x16\n" +
	"\x06source\x18\x03 \x01(\tR\x06source\x12\x1d\n" +
	"\n" +
	"event_type\x18\x04 \x01(\tR\teventType\x129\n" +
	"\bmetadata\x18\x05 \x03(\v2\x1d.polku.v1.Event.MetadataEntryR\bmetadata\x12\x18\n" +
	"\apayload\x18\x06 \x01(\fR\apayload\x12\x19\n" +
	"\broute_to\x18\a \x03(\tR\arouteTo\x1a;\n" +
	"\rMetadataEntry\x12\x10\n" +
	"\x03key\x18\x01 \x01(\tR\x03key\x12\x14\n" +
	"\x05value\x18\x02 \x01(\tR\x05value:\x028\x01\"\x98\x01\n" +
	"\x03Ack\x12\x1b\n" +
	"\tevent_ids\x18\x01 \x03(\tR\beventIds\x12*\n" +
	"\x06errors\x18\x02 \x03(\v2\x12.polku.v1.AckErrorR\x06errors\x12\x1f\n" +
	"\vbuffer_size\x18\x03 \x01(\x03R\n" +
	"bufferSize\x12'\n" +
	"\x0fbuffer_capacity\x18\x04 \x01(\x03R\x0ebufferCapacity\"S\n" +
	"\bAckError\x12\x19\n" +
	"\bevent_id\x18\x01 \x01(\tR\aeventId\x12\x12\n" +
	"\x04code\x18\x02 \x01(\tR\x04code\x12\x18\n" +
	"\amessage\x18\x03 \x01(\tR\amessage\"\x0f\n" +
	"\rHealthRequest\"\xa0\x02\n" +
	"\x0eHealthResponse\x12\x18\n" +
	"\ahealthy\x18\x01 \x01(\bR\ahealthy\x12H\n" +
	"\n" +
	"components\x18\x02 \x03(\v2(.polku.v1.HealthResponse.ComponentsEntryR\n" +
	"components\x12%\n" +
	"\x0euptime_seconds\x18\x03 \x01(\x03R\ruptimeSeconds\x12)\n" +
	"\x10events_processed\x18\x04 \x01(\x04R\x0feventsProcessed\x1aX\n" +
	"\x0fComponentsEntry\x12\x10\n" +
	"\x03key\x18\x01 \x01(\tR\x03key\x12/\n" +
	"\x05value\x18\x02 \x01(\v2\x19.polku.v1.ComponentHealthR\x05value:\x028\x01\"E\n" +
	"\x0fComponentHealth\x12\x18\n" +
	"\ahealthy\x18\x01 \x01(\bR\ahealthy\x12\x18\n" +
	"\amessage\x18\x02 \x01(\tR\amessage\"\x86\x02\n" +
	"\bK8sEvent\x12\x0e\n" +
	"\x02id\x18\x01 \x01(\tR\x02id\x12.\n" +
	"\x13timestamp_unix_nano\x18\x02 \x01(\x03R\x11timestampUnixNano\x12\x1a\n" +
	"\bresource\x18\x03 \x01(\tR\bresource\x12\x16\n" +
	"\x06action\x18\x04 \x01(\tR\x06action\x12\x1c\n" +
	"\tnamespace\x18\x05 \x01(\tR\tnamespace\x12\x12\n" +
	"\x04name\x18\x06 \x01(\tR\x04name\x12\x16\n" +
	"\x06object\x18\a \x01(\fR\x06object\x12\x1d\n" +
	"\n" +
	"old_object\x18\b \x01(\fR\toldObject\x12\x1d\n" +
	"\n" +
	"cluster_id\x18\t \x01(\tR\tclusterId\"Z\n" +
	"\rK8sEventBatch\x12*\n" +
	"\x06events\x18\x01 \x03(\v2\x12.polku.v1.K8sEventR\x06events\x12\x1d\n" +
	"\n" +
	"cluster_id\x18\x02 \x01(\tR\tclusterId\">\n" +
	"\fSendResponse\x12\x18\n" +
	"\asuccess\x18\x01 \x01(\bR\asuccess\x12\x14\n" +
	"\x05error\x18\x02 \x01(\tR\x05error2\xb3\x01\n" +
	"\aGateway\x128\n" +
	"\fStreamEvents\x12\x15.polku.v1.IngestBatch\x1a\r.polku.v1.Ack(\x010\x01\x121\n" +
	"\tSendEvent\x12\x15.polku.v1.IngestEvent\x1a\r.polku.v1.Ack\x12;\n" +
	"\x06Health\x12\x17.polku.v1.HealthRequest\x1a\x18.polku.v1.HealthResponse2\x8a\x01\n" +
	"\rPorttiService\x12:\n" +
	"\fSendK8sEvent\x12\x12.polku.v1.K8sEvent\x1a\x16.polku.v1.SendResponse\x12=\n" +
	"\x0fStreamK8sEvents\x12\x17.polku.v1.K8sEventBatch\x1a\r.polku.v1.Ack(\x010\x01B\x91\x01\n" +
	"\fcom.polku.v1B\fGatewayProtoP\x01Z2github.com/yairfalse/proto/gen/go/polku/v1;polkuv1\xa2\x02\x03PXX\xaa\x02\bPolku.V1\xca\x02\bPolku\\V1\xe2\x02\x14Polku\\V1\\GPBMetadata\xea\x02\tPolku::V1b\x06proto3"

var (
	file_polku_v1_gateway_proto_rawDescOnce sync.Once
	file_polku_v1_gateway_proto_rawDescData []byte
)

func file_polku_v1_gateway_proto_rawDescGZIP() []byte {
	file_polku_v1_gateway_proto_rawDescOnce.Do(func() {
		file_polku_v1_gateway_proto_rawDescData = protoimpl.X.CompressGZIP(unsafe.Slice(unsafe.StringData(file_polku_v1_gateway_proto_rawDesc), len(file_polku_v1_gateway_proto_rawDesc)))
	})
	return file_polku_v1_gateway_proto_rawDescData
}

var file_polku_v1_gateway_proto_msgTypes = make([]protoimpl.MessageInfo, 15)
var file_polku_v1_gateway_proto_goTypes = []any{
	(*IngestBatch)(nil),     // 0: polku.v1.IngestBatch
	(*RawPayload)(nil),      // 1: polku.v1.RawPayload
	(*EventPayload)(nil),    // 2: polku.v1.EventPayload
	(*IngestEvent)(nil),     // 3: polku.v1.IngestEvent
	(*Event)(nil),           // 4: polku.v1.Event
	(*Ack)(nil),             // 5: polku.v1.Ack
	(*AckError)(nil),        // 6: polku.v1.AckError
	(*HealthRequest)(nil),   // 7: polku.v1.HealthRequest
	(*HealthResponse)(nil),  // 8: polku.v1.HealthResponse
	(*ComponentHealth)(nil), // 9: polku.v1.ComponentHealth
	(*K8SEvent)(nil),        // 10: polku.v1.K8sEvent
	(*K8SEventBatch)(nil),   // 11: polku.v1.K8sEventBatch
	(*SendResponse)(nil),    // 12: polku.v1.SendResponse
	nil,                     // 13: polku.v1.Event.MetadataEntry
	nil,                     // 14: polku.v1.HealthResponse.ComponentsEntry
}
var file_polku_v1_gateway_proto_depIdxs = []int32{
	1,  // 0: polku.v1.IngestBatch.raw:type_name -> polku.v1.RawPayload
	2,  // 1: polku.v1.IngestBatch.events:type_name -> polku.v1.EventPayload
	4,  // 2: polku.v1.EventPayload.events:type_name -> polku.v1.Event
	4,  // 3: polku.v1.IngestEvent.event:type_name -> polku.v1.Event
	13, // 4: polku.v1.Event.metadata:type_name -> polku.v1.Event.MetadataEntry
	6,  // 5: polku.v1.Ack.errors:type_name -> polku.v1.AckError
	14, // 6: polku.v1.HealthResponse.components:type_name -> polku.v1.HealthResponse.ComponentsEntry
	10, // 7: polku.v1.K8sEventBatch.events:type_name -> polku.v1.K8sEvent
	9,  // 8: polku.v1.HealthResponse.ComponentsEntry.value:type_name -> polku.v1.ComponentHealth
	0,  // 9: polku.v1.Gateway.StreamEvents:input_type -> polku.v1.IngestBatch
	3,  // 10: polku.v1.Gateway.SendEvent:input_type -> polku.v1.IngestEvent
	7,  // 11: polku.v1.Gateway.Health:input_type -> polku.v1.HealthRequest
	10, // 12: polku.v1.PorttiService.SendK8sEvent:input_type -> polku.v1.K8sEvent
	11, // 13: polku.v1.PorttiService.StreamK8sEvents:input_type -> polku.v1.K8sEventBatch
	5,  // 14: polku.v1.Gateway.StreamEvents:output_type -> polku.v1.Ack
	5,  // 15: polku.v1.Gateway.SendEvent:output_type -> polku.v1.Ack
	8,  // 16: polku.v1.Gateway.Health:output_type -> polku.v1.HealthResponse
	12, // 17: polku.v1.PorttiService.SendK8sEvent:output_type -> polku.v1.SendResponse
	5,  // 18: polku.v1.PorttiService.StreamK8sEvents:output_type -> polku.v1.Ack
	14, // [14:19] is the sub-list for method output_type
	9,  // [9:14] is the sub-list for method input_type
	9,  // [9:9] is the sub-list for extension type_name
	9,  // [9:9] is the sub-list for extension extendee
	0,  // [0:9] is the sub-list for field type_name
}

func init() { file_polku_v1_gateway_proto_init() }
func file_polku_v1_gateway_proto_init() {
	if File_polku_v1_gateway_proto != nil {
		return
	}
	file_polku_v1_gateway_proto_msgTypes[0].OneofWrappers = []any{
		(*IngestBatch_Raw)(nil),
		(*IngestBatch_Events)(nil),
	}
	file_polku_v1_gateway_proto_msgTypes[3].OneofWrappers = []any{
		(*IngestEvent_Raw)(nil),
		(*IngestEvent_Event)(nil),
	}
	type x struct{}
	out := protoimpl.TypeBuilder{
		File: protoimpl.DescBuilder{
			GoPackagePath: reflect.TypeOf(x{}).PkgPath(),
			RawDescriptor: unsafe.Slice(unsafe.StringData(file_polku_v1_gateway_proto_rawDesc), len(file_polku_v1_gateway_proto_rawDesc)),
			NumEnums:      0,
			NumMessages:   15,
			NumExtensions: 0,
			NumServices:   2,
		},
		GoTypes:           file_polku_v1_gateway_proto_goTypes,
		DependencyIndexes: file_polku_v1_gateway_proto_depIdxs,
		MessageInfos:      file_polku_v1_gateway_proto_msgTypes,
	}.Build()
	File_polku_v1_gateway_proto = out.File
	file_polku_v1_gateway_proto_goTypes = nil
	file_polku_v1_gateway_proto_depIdxs = nil
}
